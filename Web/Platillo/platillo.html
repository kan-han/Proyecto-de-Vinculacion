<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Detalles del Platillo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .platillo-img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
    }
  </style>
</head>
<body class="bg-light">

  <div class="container py-5">
    <div id="detalle-platillo"></div>
  </div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const nombrePlatillo = params.get('nombre');

    fetch('../../Datos/Menu.json')
      .then(res => res.json())
      .then(data => {
        let encontrado = null;

        // Buscar el platillo en todas las categorías
        data.menu.forEach(categoria => {
          const platillo = categoria.platillos.find(p => p.nombre === nombrePlatillo);
          if (platillo) encontrado = { platillo, categoria: categoria.categoria };
        });

        const container = document.getElementById('detalle-platillo');

        if (encontrado) {
          const { platillo, categoria } = encontrado;

          container.innerHTML = `
            <h1 class="mb-3">${platillo.nombre}</h1>
            <p class="text-muted">Categoría: ${categoria}</p>
            <img src="${platillo.imagen}" alt="${platillo.nombre}" class="platillo-img mb-4" />
            <h4 class="text-success">$${platillo.precio}</h4>
            <p>${platillo.descripcion}</p>
            <h5>Ingredientes:</h5>
            <ul>
              ${platillo.ingredientes.map(i => `<li>${i}</li>`).join('')}
            </ul>
            <a href="menu.html" class="btn btn-secondary mt-4">Volver al menú</a>
          `;
        } else {
          container.innerHTML = `<p class="text-danger">Platillo no encontrado.</p>`;
        }
      })
      .catch(err => {
        console.error('Error:', err);
        document.getElementById('detalle-platillo').textContent = 'Error al cargar el platillo.';
      });
  </script>
</body>
</html>
